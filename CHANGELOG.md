# 更新日志

本文档记录了公众号排版助手 (obsidian-md2wechat) 的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.0.3] - 2025-08-22

### 改进优化 🚀
- **版本发布流程优化**：优化了项目的版本管理和发布流程
- **文档更新**：更新了项目文档结构和内容组织

### 技术改进 🔧
- **构建流程**：改进了项目构建和打包流程
- **版本管理**：完善了语义化版本控制

## [1.0.2] - 2025-08-22

### 改进优化 🚀
- **开源许可证更新**：将许可证从自定义协议更改为标准 MIT 许可证，为项目提供更清晰和标准的开源许可

### 技术改进 🔧
- **项目合规性**：采用业界标准的 MIT 许可证，便于开发者理解和使用
- **法律清晰性**：提供明确的使用权限和责任划分

## [1.0.1] - 2025-08-20

### 新增功能 ✨
- **智能样式切换**：现在可以在预览窗口中实时切换主题和字体大小，无需重新打开 Markdown 文件
- **自定义下拉选择器**：完全替代原生 select 元素，解决选择器不显示默认值的问题
- **实时预览更新**：切换设置后立即重新转换并更新预览，提供"样式已更新！"的即时反馈

### 改进优化 🚀
- **极简化工具栏设计**：使用纯图标设计，与 Obsidian 官方风格保持一致
- **抽屉式设置面板**：现代化的侧边栏设计，支持点击外部关闭
- **智能重新转换机制**：存储原始 Markdown 内容，支持无编辑器状态下的样式切换
- **响应式布局优化**：针对不同侧边栏宽度优化显示效果

### 修复问题 🐛
- 修复了设置选择器不显示默认值的问题
- 修复了切换设置时提示"请先打开一个 Markdown 文件"的不合理行为
- 修复了图标点击后消失的问题
- 解决了原生 select 元素在特定浏览器环境下的渲染问题

### 技术改进 🔧
- **代码简化**：删除了大量调试代码、兜底逻辑和 SVG fallback 机制
- **图标系统优化**：直接使用 Lucide 图标，移除复杂的图标测试逻辑
- **错误处理改进**：静默处理不影响用户体验的错误，避免不必要的提示
- **性能优化**：减少 DOM 操作，优化事件监听机制

### 用户体验 💫
- **零中断体验**：切换样式时无错误提示，流畅切换
- **视觉反馈增强**：图标点击状态反馈，成功操作提示
- **一致性设计**：与 Obsidian 设计语言完全融合
- **智能容错**：在各种边界情况下都能提供合理的用户体验

## [1.0.0] - 2025-08-19

### 新增功能 ✨
- 一键将 Markdown 内容转换为微信公众号样式的 HTML
- 支持多种主题样式：
  - 默认温暖风 (default)
  - 字节范 (bytedance)
  - 苹果风 (apple)
  - 运动风 (sports)
  - 中国风 (chinese)
  - 赛博朋克 (cyber)
- 字体大小自定义配置（小号/中等/大号）
- 实时预览转换效果的自定义视图
- 一键复制转换结果到剪贴板
- 功能区按钮快速访问
- 命令面板命令支持
- 完整的设置页面，支持 API Key 配置

### 技术特性 🔧
- 基于 md2wechat.cn API 服务
- 支持整篇文档或选中文本的转换
- TypeScript 开发，类型安全
- 适配 Obsidian 0.15.0+ 版本
- 支持桌面端和移动端

### 用户体验 💡
- 友好的错误提示和状态通知
- 直观的设置界面
- 快速的转换响应
- 所见即所得的预览效果

---

## 如何使用

### 安装方法
1. 从 Releases 页面下载 `obsidian-md2wechat-v1.0.0.zip`
2. 解压后将文件放入 `.obsidian/plugins/obsidian-md2wechat/` 目录
3. 在 Obsidian 设置中启用插件
4. 在插件设置中配置 md2wechat API Key

### 基本使用
1. 打开 Markdown 文档
2. 选择要转换的文本（可选，不选则转换整篇文档）
3. 点击功能区的 📰 按钮或使用命令 `一键排版到公众号样式`
4. 在弹出的预览窗口中查看效果并复制结果

### 设置选项
- **API Key**: md2wechat.cn 服务的 API 密钥
- **主题**: 选择公众号样式主题
- **字体大小**: 调整文章字体大小

---

感谢使用公众号排版助手！如有问题或建议，请在 [GitHub Issues](https://github.com/geekjourneyx/obsidian-md2wechat/issues) 中反馈。